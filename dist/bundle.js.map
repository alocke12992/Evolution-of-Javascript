{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./Avatar.js","webpack:///./main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","position","_ref","avatar","_Avatar","app","App","_this","this","_classCallCheck","winner","label","document","getElementById","data","dataset","student","students","push","innerHTML","length","fighting","selectStudents","placeFighters","_Avatar2","default","div","createElement","className","left","right","remove","fightZone","append","renderStudents","list","forEach","li","innerText","sample","index","Math","floor","random","splice","_fighting","_slicedToArray","leftFighter","rightFighter","leftBox","rightBox","startFight","loaded","addEventListener","pullStudents","_this2","_this3","_state","state","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","setState","JSON","parse","responseText","_ref2","componentDidMount","open","send","_state2","html","map","user","render"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","const Avatar = (position, {name, avatar}) => (\n  `<h5\n    id='fighter_${position}'\n    data-name='${name}'\n    data-avatar='${avatar}'\n    class='center fighter'\n   >\n     ${name}\n   </h5>\n   <image\n     class='avatar'\n     src='${avatar}'\n   />`\n)\n\nexport default Avatar;","import Avatar from './Avatar';\n\nclass App {\n  constructor() {\n    this.loaded = false;\n    this.students = [];\n    let button = document.getElementById('loading_zone')\n    button.addEventListener('click', this.pullStudents)\n  }\n\n  componentDidMount() {\n    const leftFighter = document.getElementById('left');\n    const rightFighter = document.getElementById('right');\n    leftFighter.addEventListener('click', () => {\n      this.winner('left')\n    })\n\n    rightFighter.addEventListener('click', () => {\n      this.winner('right')\n    })\n  }\n\n  winner = (position) => {\n    const label = document.getElementById('winner');\n    const fighter = document.getElementById(`fighter_${position}`)\n    const data = fighter.dataset;\n    const {name, avatar} = data;\n    const student = {name, avatar}\n    this.students.push(student)\n    label.innerHTML = `Winner: ${data.name}`;\n    if (students.length !== 1) {\n      const fighting = this.selectStudents();\n      this.placeFighters(fighting);\n    } else {\n      const avatar = Avatar(position, student)\n      const div = document.createElement('div')\n      div.className = 'winner'\n      div.innerHTML = avatar;\n      const left = document.getElementById('left');\n      const right = document.getElementById('right');\n      const fightZone = document.getElementById('fight_zone')\n      left.remove();\n      right.remove();\n      this.fightZone.append(div);\n    }\n  }\n\n  renderStudents = () => {\n    var list = document.getElementById('students');\n    list.innerHTML = null;\n    this.students.forEach(({name}) => {\n      var li = document.createElement('li')\n      li.innerText = name;\n      list.append(li)\n    })\n  }\n\n  sample = () => {\n    var index = Math.floor(Math.random() * this.students.length)\n    const student = this.students[index];\n    this.students.splice(index, 1)\n    return student;\n  }\n\n  selectStudents = () => {\n    const left = this.sample();\n    const right = this.sample();\n    this.renderStudents();\n    return [left, right]\n  }\n\n  placeFighters = (fighting) => {\n    const [leftFighter, rightFighter] = fighting;\n    const left = Avatar('left', leftFighter);\n    const right = Avatar('right', rightFighter);\n    const leftBox = document.getElementById('left');\n    const rightBox = document.getElementById('right');\n    leftBox.innerHTML = left;\n    rightBox.innerHTML = right;\n  }\n\n  startFight = () => {\n    this.loaded = true;\n    const left = document.getElementById('left')\n    const right = document.getElementById('right')\n    left.className = 'left fight-box';\n    right.className = 'left fight-box';\n    const fighting = this.selectStudents();\n    this.placeFighters(fighting);\n  }\n\n  pullStudents() {\n    const {students, loaded} = this.state\n    if (!loaded) {\n      const xhr = new XMLHttpRequest();\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState == XMLHttpRequest.DONE) {\n          this.setState({students: JSON.parse(xhr.responseText)})\n          const list = document.getElementById('students')\n          this.students.forEach(({name}) => {\n            var li = document.createElement('li')\n            li.innerText = name\n            list.append(li);\n          })\n          this.startFight();\n          this.componentDidMount()\n        }\n      }\n      var url = 'https://canvas-students.herokuapp.com/api/student_list/58'\n      xhr.open('GET', url, true);\n      xhr.send()\n    }\n  }\n\n  render() {\n    let app = document.getElementById('app');\n    let {students, loaded} = this.state;\n    const html = `\n    <img src=\"https://blog.flamingtext.com/blog/2018/04/12/flamingtext_com_1523549800_305821859.gif\" border=\"0\" alt=\"Logo Design by FlamingText.com\"\n        title=\"Logo Design by FlamingText.com\">\n    <div id=\"loading_zone\" class=\"left\">\n      ${ !loaded && '<label>Load Students</label>'}\n      <ul id=\"students\">\n        ${ students.map(student =>\n        `<li>${user.name}</li>`\n      )}\n      </ul>\n    </div>\n    <div id=\"fight_zone\" class=\"left\">\n    <h2 id=\"winner\" class=\"green center\"></h2>\n      <div id=\"left\">\n      </div>\n      <div id=\"right\">\n      </div>\n    </div>\n  `\n\n    app.innerHTML = null;\n    app.innerHTML = html;\n  }\n}\n\nconst app = new App();\napp.render();\napp.pullStudents();"],"sourceRoot":""}